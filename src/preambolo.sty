% LANGUAGE
\usepackage[italian]{babel}
\newcommand{\flang}[1]{\textit{#1}}


% MATH

\usepackage{amsmath,amssymb,amsthm}
\newtheorem{theorem}{Teorema}[chapter]
\newtheorem{lemma}{Lemma}[section]
\renewcommand{\thelemma}{\arabic{lemma}}
% TODO: dopo revisione, cambiare in corollary o corol
\newtheorem{corollario}[lemma]{Corollario}
\theoremstyle{definition}
\newtheorem{defin}{Definizione}[chapter]
\theoremstyle{remark}
\newtheorem{examp}{Esempio}[chapter]
\newtheorem{oss}{Osservazione}[chapter]
\newtheorem{fact}{Fatto}[chapter]


% CODE
\usepackage[italiano,linesnumbered,ruled,vlined]{algorithm2e}
\DontPrintSemicolon
\SetKwInput{KwInput}{Input}
\SetKwInput{KwOutput}{Output}


% BIBLIOGRAPHY
\usepackage[style=alphabetic,isbn=false]{biblatex}
\addbibresource{bib/db.bib}


% TYPOGRAPHY
\usepackage{multirow}
\usepackage[italian=quotes]{csquotes}
\MakeOuterQuote{"}
\usepackage[shortlabels]{enumitem}
\setlist{itemsep=0mm}
\usepackage{microtype}


% IMAGES AND TABLES

\usepackage{tabularx,subcaption}

\usepackage{tikz}
\usetikzlibrary{external}
\tikzexternalize[prefix=tikz_cache/]
\usetikzlibrary{positioning,shapes.geometric}


% REFS

\usepackage[hidelinks,linktoc=all]{hyperref}
\usepackage[capitalize,italian]{cleveref}
\crefname{oss}{osservazione}{osservazioni}
\crefname{lemma}{lemma}{lemmi}


% COMMANDS FOR CREATING COMMANDS

\newcommand{\newmathmacro}[2]{
	\expandafter\newcommand\csname #1\endcsname{\relax\ifmmode {#2} \else $#2$\xspace\fi}
}
\newcommand{\newproblemclass}[2]{
	\newmathmacro{#1}{\mathrm{#2}}
}
\newcommand{\newproblemclassq}[1]{
	\newproblemclass{#1}{#1}
}
\newcommand{\newproblem}[1]{
	\expandafter\newcommand\csname #1\endcsname{\normalfont\textsc{#1}\xspace}
}
\newcommand{\newalgo}[1]{
	\expandafter\newcommand\csname #1\endcsname{\normalfont\textsc{#1}\xspace}
}


% MACROS

% insiemi numerici
\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\card}[1]{| #1 |}
\newcommand{\compl}{^\complement}

% linguaggi
\renewcommand{\star}{^*} % redefined from amssymb
\newcommand{\starsymb}{\mathchar"213F} % old \star
\renewcommand{\angle}[1]{\langle #1 \rangle} % redefined
\newcommand{\emptyword}{\varepsilon}
\newcommand{\len}[1]{|#1|}

% problemi e algoritmi
\newcommand{\MIN}{\mathrm{MIN}}
\newcommand{\MAX}{\mathrm{MAX}}
\newcommand{\amm}{\mathrm{Amm}}
\newcommand{\sol}{\mathrm{sol}}
\newcommand{\prid}{\leq_p}

% altri operatori
\newcommand{\impl}{\Rightarrow}
\newcommand{\coimpl}{\Leftrightarrow}
\newcommand{\set}[1]{\left\{ #1 \right\}}
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}
\newcommand{\tuple}[1]{\langle #1 \rangle}
\newcommand{\trans}{^T}
\newcommand{\ev}[1]{E\left[#1\right]}
\newcommand{\asn}{\leftarrow}
\newcommand{\seq}[1]{\langle #1 \rangle}

% scheda problema
\newcommand{\pdec}[3]{
	\begin{description}[labelwidth=2.2cm,labelindent=.5cm]
		\item[Problema] #1
		\item[Input] #2
		\item[Decisione] #3
	\end{description}
}

% scheda problema di ottimizzazione
\newcommand{\popt}[7]{
	\begin{description}[labelwidth=2.2cm,labelindent=.5cm]
		\item[Problema] #1
		\item[Input] #2
		\item[Output] #3
		\item[Semantica] #4
		\item[Ammissibili] #5
		\item[Tipo] #6
		\item[Costo] #7
	\end{description}
}


% DEFINIZIONI DI PROBLEMI, CLASSI, ALGORITMI

% classi
\let\P\undefined
\newproblemclassq{P}
\newproblemclassq{NP}
\newproblemclassq{PO}
\newproblemclassq{NPO}
\newcommand{\gAPX}[1]{#1\text-\APX}
\newproblemclassq{APX}
\newproblemclassq{PTAS}
\newproblemclassq{FPTAS}
\newproblemclassq{PCP}

% problemi
\newproblem{Sat}
\newproblem{MaxSat}
\newproblem{MaxMatching}
\newproblem{BiMaxMatching}
\newproblem{PerfectMatching}
\newproblem{DominatingSet}
\newproblem{LoadBalancing}
\newproblem{CenterSelection}
\newproblem{MinSetCover}
\newproblem{MinCut}
\newproblem{VertexCover}
\newproblem{SetCover}
\newproblem{LinearProgramming}
\newproblem{IntegerLinearProgramming}
\newproblem{DisjointPaths}
\newproblem{TravelingSalesman}
\newproblem{MinimumSpanningTree}
\newproblem{MinimumWeightPerfectMatching}
\newproblem{MinimumPartition}
\newproblem{Knapsack}
\newproblem{MaxEkSat}
\newproblem{IndependentSet}

% algoritmi
\newalgo{GreedyLoadBalancing}
\newalgo{SortedGreedyBalance}
\newalgo{CenterSelectionPlus}
\newalgo{GreedyCenterSelection}
\newalgo{GreedySetCover}
\newalgo{PricedVertexCover}
\newalgo{PricedDisjointPaths}
\newalgo{DynamicKnapsack}
\newalgo{WeightDynamicKnapsack}


% ALTRE MACRO

% primitive per ADT
\newcommand{\rank}{\mathrm{rank}}
\newcommand{\select}{\mathrm{select}}
\newcommand{\trext}{\mathrm{ext}}
\newcommand{\trint}{\mathrm{int}}
\newcommand{\trleft}{\mathrm{left\_child}}
\newcommand{\trright}{\mathrm{right\_child}}
\newcommand{\trparent}{\mathrm{parent}}
\newcommand{\dyfindopen}{\mathrm{find\_open}}
\newcommand{\dyfindclosed}{\mathrm{find\_closed}}
\newcommand{\dyenclose}{\mathrm{enclose}}
\newcommand{\dypion}{\mathrm{pion}}
\newcommand{\tree}{\mathrm{tree}}

% abbreviazioni
\newcommand{\eve}{\mathcal E}
\renewcommand{\phi}{\varphi}
\renewcommand{\epsilon}{\varepsilon}
